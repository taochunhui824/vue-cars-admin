{"remainingRequest":"/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/src/views/Info/category.vue?vue&type=style&index=0&id=1555adf5&lang=scss","dependencies":[{"path":"/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/src/views/Info/category.vue","mtime":1662820718991},{"path":"/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/node_modules/css-loader/dist/cjs.js","mtime":1662735151036},{"path":"/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1662735155996},{"path":"/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/node_modules/postcss-loader/src/index.js","mtime":1662735154198},{"path":"/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/node_modules/sass-loader/dist/cjs.js","mtime":1662735155258},{"path":"/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/node_modules/cache-loader/dist/cjs.js","mtime":1662735150310},{"path":"/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/node_modules/vue-loader-v16/dist/index.js","mtime":1662735155993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5jb250YWluZXIgewogICAgLnRpdGxlIHsKICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4OwogICAgICAgIHBhZGRpbmctbGVmdDogMjBweDsKICAgIH0KCiAgICAuaW5mb19mb3JtIHsKICAgICAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7CiAgICAgICAgbWFyZ2luLXRvcDogMzBweDsKCiAgICAgICAgbGFiZWwgewogICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7CiAgICAgICAgfQoKICAgICAgICAuZWwtYnV0dG9uIHsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMzBweDsKICAgICAgICB9CiAgICB9CiAgICAuY2F0ZWdvcnkgewogICAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICB9Cn0K"},{"version":3,"sources":["/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/src/views/Info/category.vue"],"names":[],"mappings":";AAsJA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACtB;;IAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;QAEhB,CAAC,CAAC,CAAC,CAAC,EAAE;YACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACtB;;QAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACpB;IACJ;IACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACpB;AACJ","file":"/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/src/views/Info/category.vue","sourceRoot":"","sourcesContent":["<!--\n * @Author: taochunhui 814995688@qq.com\n * @Date: 2022-09-04 23:04:54\n * @LastEditors: taochunhui 814995688@qq.com\n * @LastEditTime: 2022-09-10 22:38:02\n * @FilePath: /vue-cars/vue-cars-admin/src/views/Info/category.vue\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n-->\n<template>\n    <div id=\"cartegory\">\n        <!-- 搜索栏 -->\n        <div class=\"header\">\n            <el-button type=\"primary\" @click=\"\">新增一级分类</el-button>\n        </div>\n        <!-- 内容部分 -->\n        <div class=\"container\">\n            <el-row :gutter=\"30\">\n                <el-col :span=\"8\">\n                    <div class=\"category\">\n                        <el-table :data=\"infoData\" stripe style=\"width: 100%\" row-key=\"id\" border :tree-props=\"{ children: 'children', hasChildren: 'hasChildren' }\">\n                            <el-table-column prop=\"category_name\" label=\"分类名称\" />\n                            <el-table-column label=\"操作\">\n                                <template #default=\"scope\">\n                                    <el-button link type=\"primary\">编辑</el-button>\n                                    <el-button link type=\"primary\">添加子级</el-button>\n                                    <el-button link type=\"danger\" @click=\"delCategoryComfirm(scope.row)\">删除</el-button>\n                                </template>\n                            </el-table-column>\n                        </el-table>\n                    </div>\n                </el-col>\n                <el-col :span=\"16\">\n                    <div class=\"header title\">一级分类编辑</div>\n                    <div class=\"info_form\">\n                        <div class=\"df aic\">\n                            <label class=\"label\">一级分类名称:</label>\n                            <el-input type=\"text\" placeholder=\"请输入一级分类名称\" style=\"width: 200px\" v-model=\"categoryName\">\n                            </el-input>\n                        </div>\n                        <div class=\"df aic mt20\">\n                            <label class=\"label\">二级分类名称:</label>\n                            <el-input type=\"text\" placeholder=\"请输入二级分类名称\" style=\"width: 200px\" v-model=\"categoryName\">\n                            </el-input>\n                        </div>\n                        <el-button type=\"primary\" @click=\"addItem\" :loading=\"addItemLoading\">确定</el-button>\n                    </div>\n                </el-col>\n            </el-row>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, ref, onMounted } from 'vue'\nimport { GetInfo, AddFirst, DelCategory } from '@/api/info'\nimport { ElMessage } from 'element-plus'\nimport { global } from '../../utils/global'\nexport default defineComponent({\n    setup () {\n        //数据\n        const categoryName = ref('')\n        const delId = ref('')\n        const addItemLoading = ref(false)\n        const infoData = ref([])\n        const { confirm } = global()\n\n        //生命周期\n        onMounted(() => {\n            getInfoList()\n        })\n        //新增一级分类\n        const addItem = () => {\n            addItemLoading.value = true\n            if (!categoryName.value)\n            {\n                ElMessage({\n                    type: 'error',\n                    message: \"分类名称不能为空\"\n                })\n                addItemLoading.value = false\n                return false\n            }\n            AddFirst({ categoryName: categoryName.value }).then((res) => {\n                if (res.resCode === 0) {\n                    categoryName.value = ''\n                    ElMessage({\n                        type: 'success',\n                        message: res.message\n                    })\n                    addItemLoading.value = false\n                    console.log(infoData.value, res.data)\n                    infoData.value.push(res.data)\n                }\n            }).catch((err) => {\n                console.log(err)\n                categoryName.value = ''\n                addItemLoading.value = false\n            })\n        }\n        //获取分类列表数据\n        const getInfoList = ()=> {\n            GetInfo().then((res)=>{\n                infoData.value = res.data.data\n            }).catch((err)=>{\n                console.log(err)\n            })\n        }\n        //删除当前分类\n        const delCategoryComfirm = (param)=> {\n            console.log(param,param.id)\n            delId.value = param.id\n            confirm({\n                content: \"确定删除该条分类吗\",\n                tip: \"提示\",\n                type: \"warning\",\n                fn: delCategory,\n                catch: ()=> {\n                    delId.value = ''\n                }\n            })\n        }\n\n        const delCategory = ()=> {\n            DelCategory({ categoryId: delId.value }).then((res)=>{\n                ElMessage({\n                    type: 'success',\n                    message: res.message\n                })\n                console.log(infoData.value)\n                infoData.value = infoData.value.filter(item => item.id != delId.value)\n            }).catch((err)=>{\n\n            })\n        }\n\n        return {\n            delId,\n            infoData,\n            categoryName,\n            addItemLoading,\n            addItem,\n            getInfoList,\n            delCategory,\n            delCategoryComfirm\n        }\n    }\n})\n</script>\n\n<style lang=\"scss\">\n.container {\n    .title {\n        margin-top: 10px;\n        line-height: 30px;\n        padding-left: 20px;\n    }\n\n    .info_form {\n        padding-left: 20px;\n        margin-top: 30px;\n\n        label {\n            margin-right: 10px;\n        }\n\n        .el-button {\n            margin-top: 30px;\n        }\n    }\n    .category {\n        margin-top: 10px;\n    }\n}\n</style>"]}]}