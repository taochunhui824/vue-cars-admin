{"remainingRequest":"/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/node_modules/babel-loader/lib/index.js!/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/src/views/Login/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/src/views/Login/index.vue","mtime":1662207420939},{"path":"/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/babel.config.js","mtime":1662190258568},{"path":"/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/node_modules/cache-loader/dist/cjs.js","mtime":1662190220391},{"path":"/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/node_modules/babel-loader/lib/index.js","mtime":1662190220477},{"path":"/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/node_modules/cache-loader/dist/cjs.js","mtime":1662190220391},{"path":"/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/node_modules/vue-loader-v16/dist/index.js","mtime":1662190220873}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHJlYWN0aXZlLCByZWYgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyB2YWxpZGF0ZV9lbWFpbCwgdmFsaWRhdGVfcGFzc3dvcmQgfSBmcm9tICJAL3V0aWxzL3ZhbGlkYXRlIjsKaW1wb3J0IHsgR2V0U21zLCBsb2dpbiB9IGZyb20gJ0AvYXBpL2xvZ2luJzsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciByb290ID0gX3JlZi5yb290LAogICAgICAgIHJlZnMgPSBfcmVmLnJlZnM7CiAgICB2YXIgbWVudV9zd2l0Y2hfaXRlbSA9IHJlYWN0aXZlKFt7CiAgICAgIHR5cGU6ICJsb2dpbiIsCiAgICAgIGxhYmVsOiAi55m75b2VIgogICAgfSwgewogICAgICB0eXBlOiAicmVnaXN0ZXIiLAogICAgICBsYWJlbDogIuazqOWGjCIKICAgIH1dKTsKICAgIHZhciBjdXJyZW50X21lbnUgPSByZWYobWVudV9zd2l0Y2hfaXRlbVswXS50eXBlKTsKICAgIGNvbnNvbGUubG9nKGN1cnJlbnRfbWVudSk7CiAgICB2YXIgZm9ybSA9IHJlYWN0aXZlKHsKICAgICAgbmFtZTogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgcGFzc3dvcmRzOiAiIiwKICAgICAgY29kZTogIiIKICAgIH0pOwogICAgdmFyIGNvZGVfdGV4dCA9IHJlZigi6I635Y+W6aqM6K+B56CBIik7CiAgICAvKioKICAgICAqIOiHquWumuS5ieajgOmqjOinhOWImQogICAgICovCiAgICAvLyDmo4Dpqozpgq7nrrEKCiAgICB2YXIgdmFsaWRhdGVfbmFtZV9ydWxlcyA9IGZ1bmN0aW9uIHZhbGlkYXRlX25hbWVfcnVsZXMocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIHZhciByZWdFbWFpbCA9IHZhbGlkYXRlX2VtYWlsKHZhbHVlKTsKCiAgICAgIGlmICh2YWx1ZSA9PT0gIiIpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpemCrueusSIpKTsKICAgICAgfSBlbHNlIGlmICghcmVnRW1haWwpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIumCrueuseagvOW8j+S4jeato+ehriIpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OyAvLyDmo4Dpqozlr4bnoIEKCgogICAgdmFyIHZhbGlkYXRlX3Bhc3N3b3JkX3J1bGVzID0gZnVuY3Rpb24gdmFsaWRhdGVfcGFzc3dvcmRfcnVsZXMocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIHZhciByZWdQYXNzd29yZCA9IHZhbGlkYXRlX3Bhc3N3b3JkKHZhbHVlKTsKICAgICAgdmFyIHBhc3N3b3Jkc192YWx1ZSA9IGZvcm0ucGFzc3dvcmRzOwoKICAgICAgaWYgKHZhbHVlID09PSAiIikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5a+G56CBIikpOwogICAgICB9IGVsc2UgaWYgKCFyZWdQYXNzd29yZCkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+35YWlID49NiDlubbkuJQgPD0gMjAg5L2N55qE5a+G56CB77yM5YyF5ZCr5pWw5a2X44CB5a2X5q+NIikpOwogICAgICB9IGVsc2UgaWYgKHBhc3N3b3Jkc192YWx1ZSAmJiBwYXNzd29yZHNfdmFsdWUgIT09IHZhbHVlKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLkuKTmrKHlr4bnoIHkuI3kuIDoh7TvvIzor7fph43mlrDovpPlhaUiKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsgLy8g5qOA6aqM56Gu6K6k5a+G56CBCgoKICAgIHZhciB2YWxpZGF0ZV9wYXNzd29yZHNfcnVsZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZV9wYXNzd29yZHNfcnVsZXMocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIHZhciBwYXNzd29yZF92YWx1ZSA9IGZvcm0ucGFzc3dvcmQ7CgogICAgICBpZiAoY3VycmVudF9tZW51LnZhbHVlID09PSAibG9naW4iKSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmICh2YWx1ZSA9PT0gIiIpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpeehruiupOWvhueggSIpKTsKICAgICAgfSBlbHNlIGlmIChwYXNzd29yZF92YWx1ZSAhPT0gdmFsdWUpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuS4pOasoeWvhueggeS4jeS4gOiHtO+8jOivt+mHjeaWsOi+k+WFpSIpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OyAvLyDmo4Dpqozpqozor4HnoIEKCgogICAgdmFyIHZhbGlkYXRlX2NvZGVfcnVsZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZV9jb2RlX3J1bGVzKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUgPT09ICIiKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXpqozor4HnoIEiKSk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUubGVuZ3RoICE9PSA2KSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXplb/luqbkuLo25L2N5pWw55qE6aqM6K+B56CBIikpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07IC8vIOajgOmqjOinhOWImQoKCiAgICB2YXIgZm9ybV9ydWxlcyA9IHJlYWN0aXZlKHsKICAgICAgbmFtZTogW3sKICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlX25hbWVfcnVsZXMsCiAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgIH1dLAogICAgICBwYXNzd29yZDogW3sKICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlX3Bhc3N3b3JkX3J1bGVzLAogICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICB9XSwKICAgICAgcGFzc3dvcmRzOiBbewogICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVfcGFzc3dvcmRzX3J1bGVzLAogICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICB9XSwKICAgICAgY29kZTogW3sKICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlX2NvZGVfcnVsZXMsCiAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgIH1dCiAgICB9KTsKICAgIHZhciBhY3RpdmUgPSByZWYoMCk7IC8v5b2T5YmN5r+A5rS755qEdGFi5LiL5qCHCiAgICAvLyDliIfmjaLmoLflvI/mlrnms5UKCiAgICB2YXIgdG9nZ2xlTWVudSA9IGZ1bmN0aW9uIHRvZ2dsZU1lbnUodHlwZSkgewogICAgICBjdXJyZW50X21lbnUudmFsdWUgPSB0eXBlOwogICAgICBjb25zb2xlLmxvZyhjdXJyZW50X21lbnUudmFsdWUsIHR5cGUpOwogICAgfTsgLy/ojrflj5bpqozor4HnoIEKCgogICAgdmFyIGdldFNtcyA9IGZ1bmN0aW9uIGdldFNtcygpIHsKICAgICAgR2V0U21zKCk7CiAgICB9OyAvLyDmj5DkuqTooajljZUKCgogICAgdmFyIHN1Ym1pdEZvcm0gPSBmdW5jdGlvbiBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIC8vIHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAvLyAgICAgLy8g6KGo5Y2V6aqM6K+B6YCa6L+HCiAgICAgIC8vICAgICBpZiAodmFsaWQpIHsKICAgICAgLy8gICAgICAgICAvLyDkuInlhYPov5DnrpcKICAgICAgLy8gICAgICAgICBjdXJyZW50X21lbnUudmFsdWUgPT09ICdsb2dpbicgPyBsb2dpbigpIDogcmVnaXN0ZXIoKQogICAgICAvLyAgICAgfSBlbHNlIHsKICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKTsKICAgICAgLy8gICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIC8vICAgICB9CiAgICAgIC8vIH0pCiAgICAgIGxvZ2luKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIG1lbnVfc3dpdGNoX2l0ZW06IG1lbnVfc3dpdGNoX2l0ZW0sCiAgICAgIHRvZ2dsZU1lbnU6IHRvZ2dsZU1lbnUsCiAgICAgIGFjdGl2ZTogYWN0aXZlLAogICAgICBmb3JtOiBmb3JtLAogICAgICBjb2RlX3RleHQ6IGNvZGVfdGV4dCwKICAgICAgZm9ybV9ydWxlczogZm9ybV9ydWxlcywKICAgICAgY3VycmVudF9tZW51OiBjdXJyZW50X21lbnUsCiAgICAgIHN1Ym1pdEZvcm06IHN1Ym1pdEZvcm0sCiAgICAgIGdldFNtczogZ2V0U21zCiAgICB9OwogIH0KfSk7"},{"version":3,"mappings":"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","names":["defineComponent","reactive","ref","validate_email","validate_password","GetSms","login","setup","props","root","refs","menu_switch_item","type","label","current_menu","console","log","form","name","password","passwords","code","code_text","validate_name_rules","rule","value","callback","regEmail","Error","validate_password_rules","regPassword","passwords_value","validate_passwords_rules","password_value","validate_code_rules","length","form_rules","validator","trigger","active","toggleMenu","getSms","submitForm","then","res"],"sourceRoot":"","sources":["/Users/taochunhui/Downloads/vue-cars/vue-cars-admin/src/views/Login/index.vue"],"sourcesContent":["<!--\n* @Author: taochunhui 814995688@qq.com\n* @Date: 2022-09-03 15:47:01\n * @LastEditors: taochunhui 814995688@qq.com\n * @LastEditTime: 2022-09-03 20:16:28\n* @FilePath: /vue-cars/vue-cars-admin/src/views/Login/index.vue\n* @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n-->\n<template>\n    <div id=\"login\">\n        <div class=\"form-wrap\">\n            <ul class=\"menu-tab\">\n                <li v-for=\"item in menu_switch_item\" :key=\"item.type\" :class=\"{ 'current': current_menu === item.type }\"\n                    @click=\"toggleMenu(item.type)\">\n                    {{ item.label }}\n                </li>\n            </ul>\n            <!-- /**表单 */ -->\n            <el-form ref=\"form\" :model=\"form\" :rules=\"form_rules\">\n                <el-form-item prop=\"name\">\n                    <label class=\"form-label\">用户名</label>\n                    <el-input v-model=\"form.name\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"password\" >\n                    <label class=\"form-label\">密码</label>\n                    <el-input type=\"password\" v-model=\"form.password\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"passwords\" v-show=\"current_menu === 'register'\">\n                    <label class=\"form-label\">确认密码</label>\n                    <el-input type=\"password\" v-model=\"form.passwords\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"code\">\n                    <label class=\"form-label\">验证码</label>\n                    <el-row :gutter=\"10\">\n                        <el-col :span=\"14\">\n                            <el-input v-model=\"form.code\"></el-input>\n                        </el-col>\n                        <el-col :span=\"10\">\n                            <el-button type=\"success\" class=\"el-button-block\" @click=\"getSms\">{{\n                                    code_text\n                            }}</el-button>\n                        </el-col>\n                    </el-row>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"danger\" class=\"el-button-block login-btn\" :disabled=\"submit_disabled\"\n                        @click=\"submitForm('form')\">{{ current_menu === \"login\" ? \"登录\" : \"注册\" }}</el-button>\n                </el-form-item>\n            </el-form>\n        </div>\n    </div>\n</template>\n    \n<script>\nimport { defineComponent, reactive, ref } from \"vue\";\nimport { validate_email, validate_password } from \"@/utils/validate\";\nimport { GetSms, login } from '@/api/login'\nexport default defineComponent({\n    setup (props, { root, refs }) {\n        const menu_switch_item = reactive([\n            { type: \"login\", label: \"登录\" },\n            { type: \"register\", label: \"注册\" }\n        ])\n\n        let current_menu = ref(menu_switch_item[0].type);\n\n        console.log(current_menu);\n\n        const form = reactive({\n            name: \"\",\n            password: \"\",\n            passwords: \"\",\n            code: \"\",\n        });\n\n        let code_text = ref(\"获取验证码\");\n\n        /**\n         * 自定义检验规则\n         */\n        // 检验邮箱\n        const validate_name_rules = (rule, value, callback) => {\n            let regEmail = validate_email(value);\n            if (value === \"\")\n            {\n                callback(new Error(\"请输入邮箱\"));\n            } else if (!regEmail)\n            {\n                callback(new Error(\"邮箱格式不正确\"));\n            } else\n            {\n                callback();\n            }\n        };\n        // 检验密码\n        const validate_password_rules = (rule, value, callback) => {\n            let regPassword = validate_password(value);\n            let passwords_value = form.passwords;\n            if (value === \"\")\n            {\n                callback(new Error(\"请输入密码\"));\n            } else if (!regPassword)\n            {\n                callback(new Error(\"请入 >=6 并且 <= 20 位的密码，包含数字、字母\"));\n            } else if (passwords_value && passwords_value !== value)\n            {\n                callback(new Error(\"两次密码不一致，请重新输入\"));\n            } else\n            {\n                callback();\n            }\n        };\n        // 检验确认密码\n        const validate_passwords_rules = (rule, value, callback) => {\n            let password_value = form.password;\n            if (current_menu.value === \"login\")\n            {\n                callback();\n                return false;\n            }\n            if (value === \"\")\n            {\n                callback(new Error(\"请输入确认密码\"));\n            } else if (password_value !== value)\n            {\n                callback(new Error(\"两次密码不一致，请重新输入\"));\n            } else\n            {\n                callback();\n            }\n        };\n        // 检验验证码\n        const validate_code_rules = (rule, value, callback) => {\n            if (value === \"\")\n            {\n                callback(new Error(\"请输入验证码\"));\n            } else if (value.length !== 6)\n            {\n                callback(new Error(\"请输入长度为6位数的验证码\"));\n            } else\n            {\n                callback();\n            }\n        };\n        // 检验规则\n        const form_rules = reactive({\n            name: [{ validator: validate_name_rules, trigger: \"blur\" }],\n            password: [{ validator: validate_password_rules, trigger: \"blur\" }],\n            passwords: [{ validator: validate_passwords_rules, trigger: \"blur\" }],\n            code: [{ validator: validate_code_rules, trigger: \"blur\" }],\n        });\n\n        const active = ref(0); //当前激活的tab下标\n\n        // 切换样式方法\n        const toggleMenu = ((type) => {\n            current_menu.value = type;\n            console.log(current_menu.value, type);\n        })\n\n        //获取验证码\n        const getSms = ()=>{\n            GetSms()\n        }\n\n        // 提交表单\n        const submitForm = (formName => {\n            // refs[formName].validate((valid) => {\n            //     // 表单验证通过\n            //     if (valid) {\n            //         // 三元运算\n            //         current_menu.value === 'login' ? login() : register()\n            //     } else {\n            //         console.log('error submit!!');\n            //         return false;\n            //     }\n            // })\n            login().then((res) => {\n                console.log(res) \n            })\n        }) \n\n        return {\n            menu_switch_item,\n            toggleMenu,\n            active,\n            form,\n            code_text,\n            form_rules,\n            current_menu,\n            submitForm,\n            getSms\n        };\n    },\n});\n</script>\n    \n<style lang=\"scss\" scoped>\n    #login {\n        height: 100vh;\n        background-color: #344a5f;\n    }\n    .form-wrap {\n        width: 300px;\n        padding-top: 100px;\n        margin: auto;\n    }\n    .menu-tab {\n        text-align: center;\n        li {\n            display: inline-block;\n            padding: 10px 24px;\n            margin: 0 10px;\n            color: #fff;\n            font-size: 14px;\n            border-radius: 5px;\n            cursor: pointer;\n            &.current { background-color: rgba(0, 0, 0, .1);}\n        }\n    }\n    .form-label {\n        display: block;\n        color: #fff;\n        font-size: 14px;\n    }\n</style>\n    "]}]}